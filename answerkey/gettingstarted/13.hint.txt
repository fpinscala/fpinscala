You have to keep iterating until `p` returns false. The branches of an `if` statement are considered to be in tail position.